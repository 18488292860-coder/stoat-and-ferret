# Impact Assessment Table — v004

| # | Area | Description | Classification | Resulting Work Item | Caused By |
|---|------|-------------|----------------|---------------------|-----------|
| 1 | API Specification | Scan endpoint (POST /videos/scan) currently documented as synchronous returning ScanResponse. BL-027 changes it to return a job ID with async status polling. docs/design/05-api-specification.md lines 213-242 must be rewritten. | substantial | Rewrite scan endpoint API spec to document async job pattern (request returns job ID, new GET /jobs/{id} endpoint for status) | BL-027 |
| 2 | API Specification | New job status endpoint (GET /jobs/{id}) needs full API documentation including request/response schemas, error cases, and status codes. | small | Add job status endpoint documentation to 05-api-specification.md | BL-027 |
| 3 | Prototype Design | docs/design/03-prototype-design.md lines 586-605 document scan as synchronous. Must align with async pattern. | small | Update scan section in 03-prototype-design.md to reference async behavior | BL-027 |
| 4 | Architecture Doc | docs/design/02-architecture.md line 153 mentions "Job queue orchestration (arq/Redis)" but actual implementation will use in-process queue first. Lines 349, 584 also reference job queue. | small | Update architecture doc job queue references to reflect actual implementation pattern | BL-027 |
| 5 | AGENTS.md | Quality gates section (lines 66-88) lists test commands but does not mention Docker-based testing, benchmark commands, or Rust coverage tools. BL-014, BL-026, BL-010 add new developer commands. | small | Add Docker test, benchmark, and llvm-cov commands to AGENTS.md quality gates section | BL-014, BL-026, BL-010 |
| 6 | CI Workflow | .github/workflows/ci.yml has no Rust coverage step. BL-010 requires llvm-cov integration. No Docker testing jobs exist for BL-014. | small | Add llvm-cov coverage step to CI workflow for Rust code | BL-010 |
| 7 | CI Workflow | CI currently runs pytest with --cov-fail-under=80. BL-023 adds black box tests that need separate pytest markers. CI may need marker-based test selection. | small | Add pytest marker configuration for black box tests in CI | BL-023 |
| 8 | Feature Design Template | docs/auto-dev/PROCESS/generic/02-REQUIREMENTS.md has no property test section. BL-009 requires adding proptest guidance. | small | Add property test section to requirements template (part of BL-009 implementation) | BL-009 |
| 9 | Feature Design Template | docs/auto-dev/PROCESS/generic/03-IMPLEMENTATION-PLAN.md has no property test planning section. BL-009 requires adding proptest planning guidance. | small | Add property test planning section to implementation plan template (part of BL-009 implementation) | BL-009 |
| 10 | Test Infrastructure | tests/test_api/conftest.py (lines 129-137) uses dependency_overrides for DI. BL-021 changes create_app() to accept injectable parameters, making overrides unnecessary. All test files using overrides must be updated. | small | Migrate test dependency overrides to use create_app() DI parameters after BL-021 | BL-021 |
| 11 | Risk Assessment | docs/design/06-risk-assessment.md lines 413-425 show test examples using job_queue parameter that doesn't exist yet. BL-027 implementation should validate these examples still match. | small | Verify risk assessment test examples align with actual job queue implementation | BL-027 |
| 12 | Security Documentation | BL-025 produces a new security audit document in docs/. No existing security doc exists — this is net-new, not an update. No impact on existing docs. | small | Create security audit document location in docs/ directory (part of BL-025 implementation) | BL-025 |
| 13 | Search Behavior Documentation | BL-016 unifies InMemory vs FTS5 search. The search API behavior documented in 05-api-specification.md may need clarification on search semantics. | small | Review and update search API documentation after BL-016 unification | BL-016 |
| 14 | Technical Stack | docs/design/04-technical-stack.md lines 92, 132 reference job queue as "Synchronous fake" — will need updating once BL-027 implements the real queue infrastructure. | small | Update technical stack doc to reflect job queue implementation | BL-027 |
