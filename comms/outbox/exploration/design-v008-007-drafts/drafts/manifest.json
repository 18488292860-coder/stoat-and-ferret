{
  "version": "v008",
  "description": "Fix P0 blockers and critical startup wiring gaps so a fresh install starts cleanly with working logging, database, and settings.",
  "backlog_ids": ["BL-055", "BL-056", "BL-058", "BL-062"],
  "context": {
    "rationale": "v008 addresses the most critical wiring gaps discovered by the post-v007 wiring audit. Database schema creation, structured logging, and orphaned settings were all built in earlier versions but never connected to the application startup sequence. The flaky E2E test blocks CI reliability for all future development.",
    "constraints": [
      "All changes are wiring of existing infrastructure — no new feature development",
      "Theme 1 features must execute sequentially due to shared modification point (app.py)",
      "BL-055 AC #1 (10 consecutive CI runs) is a post-merge validation criterion"
    ],
    "assumptions": [
      "CREATE TABLE IF NOT EXISTS is sufficient for v008 (no schema migrations needed)",
      "configure_logging() idempotency fix prevents handler accumulation in tests",
      "uvicorn accepts all Python standard logging level names in lowercase"
    ],
    "deferred_items": []
  },
  "themes": [
    {
      "number": 1,
      "slug": "application-startup-wiring",
      "goal": "Wire existing but disconnected infrastructure — database schema creation, structured logging, and orphaned settings — into the FastAPI lifespan startup sequence.",
      "features": [
        {"number": 1, "slug": "database-startup", "goal": "Wire create_tables() into lifespan so database schema is created automatically on startup"},
        {"number": 2, "slug": "logging-startup", "goal": "Call configure_logging() at startup and wire settings.log_level to control log verbosity"},
        {"number": 3, "slug": "orphaned-settings", "goal": "Wire settings.debug to FastAPI and settings.ws_heartbeat_interval to ws.py"}
      ]
    },
    {
      "number": 2,
      "slug": "ci-stability",
      "goal": "Eliminate the flaky E2E test that intermittently blocks CI merges.",
      "features": [
        {"number": 1, "slug": "flaky-e2e-fix", "goal": "Fix toBeHidden() timeout in project-creation.spec.ts so E2E passes reliably"}
      ]
    }
  ]
}
